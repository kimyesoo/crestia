#!/usr/bin/env python3
"""
리얼 Q&A 생성 스크립트
- Knowledge Base 기반 고정 시나리오 20개
- 일반 사육 질문 30개
"""

import json
import os
import random
from datetime import datetime, timedelta

# ============================================
# 공통 설정
# ============================================
OUTPUT_DIR = os.path.join(os.path.dirname(__file__), '..', 'src', 'constants')

def random_date_within_months(months=3):
    """최근 N개월 이내 랜덤 날짜"""
    now = datetime.now()
    days_back = random.randint(0, months * 30)
    date = now - timedelta(days=days_back)
    return date.strftime("%Y-%m-%d")

# 질문자 닉네임 풀
QUESTION_AUTHORS = [
    "왕초보브리더", "크레입문자", "도마뱀뉴비", "파충류초보맘", "첫크레집사",
    "궁금이가득", "게코시작", "렙타입문", "크레사랑해", "초보사육사",
    "뉴비집사", "도마뱀초보", "크레키우기", "파충류신입", "게코입양함",
    "크레가최고", "첫파충류", "도마뱀러버", "크레러버", "익명질문자"
]

# 답변자 닉네임 풀 (전문가 느낌)
ANSWER_AUTHORS = [
    "게코박사", "10년차브리더", "파충류수의사", "렙타일마스터", "모프연구가",
    "베테랑집사", "크레전문가", "브리더협회장", "파사모원로", "게코학자"
]

# ============================================
# 🧬 Knowledge Base 기반 고정 시나리오 (20개)
# ============================================
PRESET_SCENARIOS = [
    # === 유전/모프 관련 (10개) ===
    {
        "category": "유전/모프",
        "title": "릴리끼리 교배해서 슈퍼 릴리 만들고 싶은데요...",
        "content": "릴리 화이트가 너무 예뻐서 암수 쌍으로 데려왔어요ㅎㅎ 둘이 붙이면 더 하얀 슈퍼 릴리가 나오나요?? 진짜 궁금합니다!",
        "bestAnswer": "헉, 절대 안 됩니다!! 😱 릴리 화이트의 슈퍼폼은 **치사 유전(Lethal Gene)**이에요. 알에서 부화하지 못하거나, 태어나도 금방 죽습니다. 윤리적으로도 금기시되는 교배입니다.\n\n릴리는 꼭 **노멀(Non-Lilly)** 또는 다른 모프랑 붙이셔야 해요. 릴리 x 노멀 = 50% 릴리, 50% 노멀 이렇게 나옵니다."
    },
    {
        "category": "유전/모프",
        "title": "카푸치노 어떻게 구분하나요? 진짜 햇갈려요ㅠ",
        "content": "카푸치노 사고 싶은데 일반 다크베이스랑 구분이 안가요... 어디를 봐야하나요?",
        "bestAnswer": "카푸치노의 가장 확실한 특징은 **꼬리 기부의 Y자 패턴**입니다! 꼬리가 시작되는 부분을 보시면 흰색 Y 모양이 있어요.\n\n그리고 부화 직후에는 핀스트라이프가 굵고 하얗게 보이다가, 성장하면서 커피색으로 어두워집니다. 분양받을 때 부모 개체 확인이 가장 확실해요!"
    },
    {
        "category": "유전/모프",
        "title": "세이블이랑 카푸치노 차이가 뭔가요??",
        "content": "둘다 비슷하게 생겼던데... 같은거 아닌가요? 가격차이도 나는것 같고",
        "bestAnswer": "둘은 같은 유전자 좌위(Locus)를 공유하는 **대립 유전자(Allelic)** 관계예요! 쉽게 말하면 '사촌' 같은 거죠.\n\n**차이점:**\n- 카푸치노: Y-Tail 특징, 커피색 발색\n- 세이블: 더 어둡고 진한 발색\n\n**재밌는 건**, 카푸치노 x 세이블 교배하면 **루왁(Luwak)**이라는 새로운 콤보가 나와요! 멜라니스틱과 달리 건강 문제가 없어서 주목받고 있습니다."
    },
    {
        "category": "유전/모프",
        "title": "슈퍼 카푸치노(멜라니스틱) 번식 위험하다는데 사실인가요?",
        "content": "인스타에서 새까만 멜라니스틱 보고 반했는데ㅠㅠ 건강 문제 있다고 해서... 진짜인가요?",
        "bestAnswer": "네, 사실입니다. 슈퍼 카푸치노(멜라니스틱)는 **콧구멍 축소(Reduced Nostrils)** 및 안구 질환 발생률이 높아요.\n\n분양받으실 때 반드시 **호흡기 상태**(콧구멍이 정상인지), **눈 상태**를 꼼꼼히 확인하세요. 브리딩용으로 데려오실 거면 각오가 필요합니다.\n\n건강한 다크 개체를 원하신다면 **루왁(Luwak)**을 추천드려요. 카푸 x 세이블 조합인데 건강 문제가 없습니다."
    },
    {
        "category": "유전/모프",
        "title": "프라푸치노가 뭔가요? 커피 이름인줄ㅋㅋ",
        "content": "모프 이름 진짜 다 커피네요 ㅋㅋㅋ 프라푸치노는 뭔가요?",
        "bestAnswer": "ㅋㅋㅋ 맞아요, 모프 이름이 카페 메뉴판 같죠!\n\n**프라푸치노 = 릴리 화이트 + 카푸치노** 조합입니다.\n\n릴리의 하얀 패턴과 카푸치노의 진한 베이스가 만나서, 대비가 정말 화려해요. 일반 릴리보다 패턴이 자글자글하게 쪼개지는 특징이 있습니다.\n\n단, 프라푸치노끼리 교배하면 슈퍼 릴리(치사) + 멜라니스틱(콧구멍 이슈) 둘 다 나올 수 있으니 주의하세요!"
    },
    {
        "category": "유전/모프",
        "title": "아잔틱 유전 어떻게 되나요? 열성이라던데",
        "content": "아잔틱 교배 계획 중인데요, 열성이면 어떻게 해야 비주얼이 나오나요?",
        "bestAnswer": "아잔틱은 **열성(Recessive)** 유전이에요.\n\n**비주얼을 얻으려면:**\n1. 아잔틱(비주얼) x 아잔틱(비주얼) = 100% 아잔틱\n2. 아잔틱 x Het 아잔틱 = 50% 아잔틱, 50% Het\n3. Het x Het = 25% 아잔틱, 50% Het, 25% 노멀\n\n열성 모프는 세대를 거쳐야 해서 시간이 오래 걸려요. 하지만 그만큼 **진정한 흑백(Monochrome)**을 볼 수 있습니다! 노란색, 붉은색이 완전히 없는 게 아잔틱의 매력이죠."
    },
    
    # === 오해와 진실 (4개) ===
    {
        "category": "오해와진실",
        "title": "문스톤 모프 파시는 분 계신가요??",
        "content": "문스톤이 진짜 예쁘다고 해서 찾고 있는데 어디서 구해요? 가격은 얼마나 하나요?",
        "bestAnswer": "⚠️ 잠깐요! **문스톤은 크레스티드 게코 공식 모프가 아닙니다.**\n\n'문스톤'은 주로 **콘 스네이크(Corn Snake)**에서 쓰는 용어예요. 크레 시장에서 문스톤이라고 파는 건 높은 확률로 **상술**이거나 다른 모프를 이름만 바꿔 부르는 거예요.\n\n하이포 텐저린이나 글로우 개체를 그렇게 부르는 경우도 있는데, 유전적으로 검증된 게 아니니 조심하세요!"
    },
    {
        "category": "오해와진실",
        "title": "파이볼드 크레 분양글 봤는데 진짠가요?",
        "content": "인터넷에서 파이볼드 크레 분양한다는 글 봤어요! 300만원인데... 진짜 파이볼드가 있나요?",
        "bestAnswer": "현재 **크레스티드 게코 시장에서 유전적으로 검증된 파이볼드 라인은 없습니다.**\n\n과거 'Patient Zero'라는 개체가 있었지만, 유전적으로 증명되지 못했어요. 지금 '파이볼드'라고 파는 건:\n1. 부분적인 흰 점(포트홀)을 과장한 것\n2. 볼파이톤 등 다른 종의 용어를 차용한 것\n\n300만원은 **사기일 가능성이 매우 높습니다.** 조심하세요!!"
    },
    {
        "category": "오해와진실",
        "title": "크레도 할리퀸이랑 익스트림 할리퀸이 다른건가요?",
        "content": "모프마켓 보니까 가격차이가 많이 나는데... 뭐가 다른거죠?",
        "bestAnswer": "네, 다릅니다!\n\n**할리퀸:** 다리와 옆구리 하단에 패턴이 있는 개체\n**익스트림 할리퀸:** 패턴이 옆구리 상단까지 올라와 등 무늬에 거의 닿을 정도로 풍성한 개체\n\n익스트림은 '선별 교배(Line Breeding)'를 통해 만들어져서, 퀄리티가 좋은 부모를 몇 세대 거쳐야 나와요. 그래서 가격 차이가 납니다. 패턴 커버리지가 핵심이에요!"
    },
    {
        "category": "오해와진실",
        "title": "크레가 30도 넘어도 괜찮나요?",
        "content": "여름에 에어컨 안틀면 방이 32도까지 올라가는데... 크레 괜찮을까요?",
        "bestAnswer": "**절대 안 됩니다!!** 🚨\n\n크레스티드 게코는 고온에 매우 취약해요.\n- **28도 이상**: 위험 신호\n- **29~30도**: 열사병 위험!\n- **32도**: 치명적일 수 있음\n\n여름엔 무조건 **쿨링**이 필수입니다. 에어컨이 안 되면 아이스팩, 쿨링팬 등으로라도 온도를 낮춰주세요. 크레는 저온(18도)보다 고온에 훨씬 약합니다."
    },
    
    # === 사육/건강 관련 (6개) ===
    {
        "category": "사육/건강",
        "title": "탈피 껍질이 발가락에 남았는데 떼도 되나요?ㅠㅠ",
        "content": "탈피 다 했는데 발가락에 하얀게 남아있어요ㅠㅠ 억지로 떼면 안되나요? 걱정돼요",
        "bestAnswer": "**절대 억지로 떼시면 안 됩니다!** 발가락 다칠 수 있어요.\n\n대신 **'사우나' 방법**을 써보세요:\n1. 미온수(28~30도)를 작은 통에 담고\n2. 크레를 10분 정도 불려주세요\n3. 젖은 면봉이나 습한 천으로 살살 굴려주듯이 제거\n\n탈피 껍질이 발가락에 계속 남으면 **혈액순환 장애**로 발가락이 괴사할 수 있으니, 꼭 제거해주시되 부드럽게요!"
    },
    {
        "category": "사육/건강",
        "title": "크레 꼬리가 자꾸 휘어요... MBD인가요?",
        "content": "꼬리가 점점 휘어지는 것 같은데 MBD인가요? 칼슘은 주고 있는데ㅠㅠ",
        "bestAnswer": "꼬리가 휘는 원인은 두 가지예요:\n\n1. **MBD(대사성 골질환):** 칼슘/D3 부족으로 뼈가 약해짐\n2. **FTS(플로피 테일 신드롬):** 수직 공간에서 거꾸로 매달려 자느라 생김\n\n**구분법:**\n- MBD: 턱도 물렁물렁, 다리도 휘는 경향\n- FTS: 꼬리만 휘고 다른 부위는 정상\n\n**해결법:**\n- MBD: 칼슘 더스팅 강화 + UVB 조명 추가\n- FTS: 수평 은신처 배치로 자세 교정"
    },
    {
        "category": "사육/건강",
        "title": "습도 계속 높게 유지하면 안되나요?",
        "content": "습도 높은게 좋다길래 하루종일 80으로 맞춰놨는데... 괜찮죠?",
        "bestAnswer": "**안 됩니다!** 하루 종일 축축하면 **곰팡이, 세균 번식**의 원인이 돼요.\n\n**올바른 습도 사이클:**\n- 낮: 50~60% (건조하게)\n- 밤: 70~80% (미스팅 후)\n\n아침에 미스팅 → 낮에는 말림 → 저녁/밤에 다시 미스팅, 이런 식으로 **습도 사이클**을 만들어주세요. 크레의 자연 서식지를 생각해보시면, 비 온 후 말랐다가 다시 습해지는 거죠!"
    },
    {
        "category": "사육/건강",
        "title": "크레가 3일째 안먹어요ㅠㅠ 급해요!!",
        "content": "분양받은지 5일 됐는데 슈푸 전혀 안 먹어요ㅠㅠ 귀뚜라미도 안먹고... 죽는거 아니죠??",
        "bestAnswer": "일단 진정하세요! 😊 분양 직후 거식은 **매우 정상적인 현상**이에요.\n\n**체크리스트:**\n1. 온도 22~26도 적정한가?\n2. 은신처가 충분한가? (스트레스 원인)\n3. 핸들링 자제하고 있나?\n\n크레는 2주까지도 거식할 수 있어요. 꼬리 굵기를 보세요 - 통통하면 아직 여유 있습니다.\n\n**팁:** 밤에 불 끄고 조용히 해주세요. 먹이는 저녁에 놓고 아침에 핥은 흔적 있나 확인!"
    },
    {
        "category": "사육/건강",
        "title": "크레가 낮에도 돌아다녀요 이상한건가요?",
        "content": "야행성이라던데 낮에 사육장에서 왔다갔다 해요... 스트레스인가요?",
        "bestAnswer": "꼭 이상한 건 아니에요! 몇 가지 경우가 있어요:\n\n1. **온도가 높아서** 시원한 곳 찾는 중 → 온도 체크!\n2. **배고파서** 먹이 찾는 중 → 급여 주기 확인\n3. **새 환경 탐색** → 적응 중이면 정상\n4. **습도 문제** → 물 찾는 중일 수도\n\n지속적으로 불안해 보이면 환경 점검을, 가끔 움직이는 정도면 걱정 안 하셔도 됩니다!"
    },
    {
        "category": "사육/건강",
        "title": "크레 변이 초록색인데 병원가야하나요?",
        "content": "원래 갈색이었는데 오늘 변이 초록색이에요ㅠㅠ 아픈건가요?",
        "bestAnswer": "초록색 변은 **담즙**이 섞인 거예요. 원인은 보통:\n\n1. **먹이 문제:** 색소가 많은 먹이 먹었을 때\n2. **소화 문제:** 장 통과 시간이 빨랐을 때\n3. **스트레스:** 환경 변화 등\n\n**1~2일 관찰해보세요.** 지속되거나 악취 + 물설사 동반하면 그때 병원 가세요.\n\n정상 변 = 갈색 덩어리 + 흰색 요산. 이게 기준입니다!"
    }
]

# ============================================
# 일반 사육 질문 템플릿 (30개용)
# ============================================
GENERAL_QUESTIONS = [
    {
        "category": "사육/먹이",
        "title": "슈퍼푸드 브랜드 뭐가 좋아요?",
        "content": "팬게아랑 레파시 중에 뭐가 더 좋나요? 아니면 다른 추천 있으신가요?",
        "bestAnswer": "둘 다 좋은 브랜드예요! 취향 차이입니다.\n\n- **팬게아:** 과일향이 강해서 입맛 까다로운 아이들도 잘 먹음\n- **레파시:** 곤충 성분이 더 많아서 단백질 보충에 좋음\n\n저는 두 개 번갈아 주는 걸 추천해요. 입맛 다양화도 되고 영양 밸런스도 좋아집니다!"
    },
    {
        "category": "사육/환경",
        "title": "사육장 크기 어느정도가 좋아요?",
        "content": "성체 기준으로 사육장 크기 추천해주세요!",
        "bestAnswer": "성체 1마리 기준 **최소 45x45x60cm** 추천드려요. 수직 공간이 중요해요!\n\n- 베이비~서브아덜트: 30x30x45cm도 OK\n- 성체: 45x45x60cm 이상\n- 브리딩 페어: 60x45x90cm 권장\n\n너무 큰 것보다 적당한 게 좋아요. 너무 크면 먹이 찾기 힘들어해요."
    },
    {
        "category": "사육/환경",
        "title": "바닥재 뭐 쓰세요?",
        "content": "코코넛 파이버? 키친타올? 뭐가 좋아요?",
        "bestAnswer": "상황에 따라 다릅니다!\n\n**키친타올:** 교체 쉬움, 위생적, 베이비 추천\n**코코넛 파이버:** 습도 유지 좋음, 자연스러움\n**바이오액티브:** 청소부 생물 투입, 유지관리 편함\n\n⚠️ 모래, 자갈은 **절대 사용 금지!** 장폐색 위험 있어요."
    },
    {
        "category": "사육/먹이",
        "title": "귀뚜라미 얼마나 자주 줘야해요?",
        "content": "슈푸만 주다가 귀뚜라미도 주려는데, 주기가 어떻게 되나요?",
        "bestAnswer": "**월 2~4회** 정도가 적당해요!\n\n귀뚜라미(또는 두비아) 급여의 장점:\n- 사냥 본능 자극\n- 양질의 단백질 공급\n- 식욕 자극 효과\n\n**주의:** 크레 머리 너비보다 작은 사이즈로! 칼슘 파우더 더스팅 필수입니다."
    },
    {
        "category": "사육/환경",
        "title": "조명 꼭 필요한가요?",
        "content": "야행성인데 조명이 왜 필요해요? 없어도 되는거 아닌가요?",
        "bestAnswer": "필수는 아니지만, 있으면 좋아요!\n\n**UVB 조명의 장점:**\n- D3 합성 도움 → 칼슘 흡수 개선\n- 낮/밤 사이클 유지 → 생체 리듬 안정\n\n약한 UVB(2.0~5.0) + LED로 **12시간 사이클**을 맞춰주시면, 더 건강하게 키울 수 있어요."
    },
    {
        "category": "사육/환경",
        "title": "합사해도 되나요?",
        "content": "크레 두마리 같이 키우고 싶은데 가능한가요?",
        "bestAnswer": "**조심해야 합니다!**\n\n- 수컷 + 수컷: ❌ 절대 불가 (싸움)\n- 암컷 + 암컷: △ 가능하지만 스트레스 주의\n- 수컷 + 암컷: △ 번식 의도 있으면 OK, 아니면 분리\n\n개인적으로는 **단독 사육 권장**합니다. 스트레스로 거식하는 경우 많아요."
    },
    {
        "category": "사육/먹이",
        "title": "크레가 살이 안쪄요ㅠ",
        "content": "먹긴 먹는데 몸무게가 안 늘어요... 어떻게 해야할까요?",
        "bestAnswer": "몇 가지 체크해보세요:\n\n1. **온도:** 너무 낮으면 대사 느려짐\n2. **급여량:** 충분히 주고 있나요?\n3. **기생충:** 지속되면 분변검사 권장\n4. **스트레스:** 은신처 부족, 핸들링 과다\n\n**팁:** 레파시 그럽스앤프룻(곤충 성분 높음) + 귀뚜라미 추가 급여 해보세요."
    },
    {
        "category": "일반",
        "title": "크레 수명이 얼마나 되나요?",
        "content": "잘 키우면 얼마나 오래 사나요?",
        "bestAnswer": "잘 키우면 **15~20년** 삽니다! 🦎\n\n장수 비결:\n- 적정 온도(22~26도) 유지\n- 스트레스 최소화\n- 균형 잡힌 영양\n- 정기적인 건강 체크\n\n크레는 생각보다 오래 사니까, 책임감 있게 키워주세요!"
    },
    {
        "category": "일반",
        "title": "크레 핸들링 언제부터 해도 되나요?",
        "content": "분양받았는데 너무 만지고 싶어요ㅠㅠ 언제부터 만져도 되나요?",
        "bestAnswer": "**최소 2주는 기다려주세요!**\n\n적응 기간 핸들링하면 스트레스로 거식할 수 있어요.\n\n2주 후부터:\n- 하루 5~10분만\n- 위에서 잡지 말고 손바닥 위로 유도\n- 도망가면 억지로 잡지 않기\n\n천천히 신뢰 쌓으시면 나중에 손 타는 아이가 됩니다!"
    },
    {
        "category": "일반",
        "title": "크레 암수 구별 어떻게 해요?",
        "content": "아직 베이비인데 암수 구별 가능한가요?",
        "bestAnswer": "베이비일 때는 구별 어려워요! **40g 이상**(보통 성체) 되어야 확실해요.\n\n**수컷 특징:**\n- 꼬리 기부에 **헤미페니스 주머니** 볼록\n- 그 위에 **모공(Femoral Pores)** 있음\n\n**암컷:** 꼬리 기부가 매끈하고 평평함\n\n베이비 때 구별한다는 분양처는 조심하세요. 틀릴 확률 높아요."
    },
    {
        "category": "사육/건강",
        "title": "크레 눈에 뭐가 낀 것 같아요",
        "content": "한쪽 눈이 뿌옇게 보여요... 병원가야하나요?",
        "bestAnswer": "몇 가지 가능성이 있어요:\n\n1. **탈피 직전:** 눈까지 뿌옇게 보임 → 며칠 후 탈피하면 정상\n2. **이물질:** 바닥재 등이 들어감 → 미온수로 세척\n3. **감염:** 지속되면 동물병원 방문\n\n탈피 주기인지 먼저 확인하시고, 3~4일 지나도 그대로면 병원 가보세요!"
    },
    {
        "category": "사육/환경",
        "title": "미스팅 시스템 추천해주세요",
        "content": "수동 분무기 힘들어서 자동 미스팅 사려는데 뭐가 좋아요?",
        "bestAnswer": "인기 있는 제품들:\n\n- **MistKing:** 비싸지만 튼튼하고 미세분무\n- **Monsoon:** 가성비 좋음, 입문용 추천\n- **Repti Fogger:** 포그 타입, 습도 올리기 좋음\n\n**팁:** 타이머 설정 가능한 제품으로 하시고, 아침/저녁 자동 분무 설정하시면 편해요!"
    },
    {
        "category": "유전/모프",
        "title": "트라이컬러가 뭔가요?",
        "content": "트라이컬러 모프가 예쁘다고 하는데 뭔지 모르겠어요",
        "bestAnswer": "**트라이컬러 = 3색 조화!**\n\n1. 다크 베이스 (검은색/갈색)\n2. 1차 패턴 (주황/노랑)\n3. 2차 패턴 (흰색/크림)\n\n이 세 색이 **뚜렷하게 구분**될수록 고퀄리티예요. 흰색 패턴이 많고 대비가 강할수록 가격도 올라갑니다!"
    },
    {
        "category": "유전/모프",
        "title": "달마시안이랑 슈퍼달마시안 차이가 뭔가요?",
        "content": "점 많으면 다 슈퍼달마시안인가요?",
        "bestAnswer": "점 개수로 구분해요!\n\n- **달마시안:** 점이 있는 일반 개체\n- **슈퍼 달마시안:** 점 **100개 이상**, 온몸 뒤덮음\n- **잉크 스팟:** 점이 잉크처럼 번져서 크고 굵음\n\n슈퍼달마시안은 꽤 희귀해서 가격도 비싸요. 점 개수 세어보시면 대략 알 수 있어요 ㅎㅎ"
    },
    {
        "category": "일반",
        "title": "크레 번식 언제부터 가능해요?",
        "content": "브리딩 해보고 싶은데 몇 그램부터 가능한가요?",
        "bestAnswer": "**권장 기준:**\n- 암컷: 40g 이상, 18개월 이상\n- 수컷: 35g 이상\n\n⚠️ 체중보다 **나이와 건강 상태**가 더 중요해요! 너무 어린 암컷은 에그바운드(알막힘) 위험이 있습니다.\n\n첫 시즌은 2~3클러치 정도만 받으시고, 암컷 컨디션 보면서 조절하세요."
    },
    # 추가 일반 질문들
    {
        "category": "사육/먹이",
        "title": "과일 직접 줘도 되나요?",
        "content": "바나나나 망고 으깨서 주면 안되나요?",
        "bestAnswer": "가끔은 OK! 하지만 슈퍼푸드가 메인이어야 해요.\n\n**허용 과일:** 바나나, 망고, 파파야\n**금지 과일:** 감귤류(산성), 아보카도(독성)\n\n과일만 주면 영양 불균형이 와요. 간식 개념으로 가끔씩만!"
    },
    {
        "category": "사육/환경",
        "title": "식물 넣어도 되나요?",
        "content": "사육장에 진짜 식물 넣고 싶은데 추천해주세요!",
        "bestAnswer": "바이오액티브 세팅 좋죠!\n\n**추천 식물:**\n- 포토스 (관리 쉬움)\n- 피토니아\n- 브로멜리아\n- 필로덴드론\n\n⚠️ 독성 식물 넣으면 안 돼요. 구매 전 검색 필수!"
    },
    {
        "category": "사육/건강",
        "title": "크레가 입 벌리고 있어요",
        "content": "가끔 입을 크게 벌려요... 아픈건가요??",
        "bestAnswer": "상황에 따라 달라요!\n\n1. **하품:** 정상, 그냥 하품임 ㅎㅎ\n2. **위협:** 핸들링 중이면 스트레스\n3. **호흡 문제:** 지속되면 호흡기 감염 의심\n\n가끔 하는 거면 걱정 마세요. 자주 + 힘들어 보이면 병원!"
    },
    {
        "category": "일반",
        "title": "크레가 꼬리를 흔들어요",
        "content": "고양이처럼 꼬리를 좌우로 흔드는데 뭔가요?",
        "bestAnswer": "**꼬리 흔들기 = 흥분/경계 상태**예요!\n\n- 사냥 전 흥분했을 때\n- 다른 크레 보고 경계할 때\n- 핸들링 중 불안할 때\n\n고양이랑 비슷하죠? 공격 직전 신호일 수 있으니 상황 보고 판단하세요!"
    },
    {
        "category": "사육/환경",
        "title": "히터 뭐 쓰세요?",
        "content": "겨울에 온도 맞추려면 히터 필요한데 추천해주세요",
        "bestAnswer": "인기 있는 옵션들:\n\n- **세라믹 히터:** 빛 없이 열만, 밤에도 사용 OK\n- **딥 히트 프로젝터(DHP):** 깊은 침투열\n- **히트 매트:** 측면 부착용\n\n⚠️ 반드시 **온도조절기(서모스탯)**와 함께 쓰세요! 과열 방지 필수입니다."
    }
]

# ============================================
# 메인 로직
# ============================================

def generate_qna_posts():
    """50개의 Q&A 게시글 생성"""
    posts = []
    
    # 1) 고정 시나리오 20개
    for i, scenario in enumerate(PRESET_SCENARIOS):
        posts.append({
            "id": f"qna-{i+1}",
            "category": scenario["category"],
            "title": f"[질문] {scenario['title']}",
            "author": random.choice(QUESTION_AUTHORS),
            "date": random_date_within_months(3),
            "views": random.randint(100, 3000),
            "likes": random.randint(1, 50),
            "commentCount": random.randint(3, 25),
            "content": scenario["content"],
            "bestAnswer": {
                "author": random.choice(ANSWER_AUTHORS),
                "content": scenario["bestAnswer"],
                "likes": random.randint(5, 100),
                "date": random_date_within_months(3)
            }
        })
    
    # 2) 일반 질문 30개 (중복 없이)
    general_subset = random.sample(GENERAL_QUESTIONS, min(30, len(GENERAL_QUESTIONS)))
    
    for i, question in enumerate(general_subset):
        posts.append({
            "id": f"qna-{len(PRESET_SCENARIOS) + i + 1}",
            "category": question["category"],
            "title": f"[질문] {question['title']}",
            "author": random.choice(QUESTION_AUTHORS),
            "date": random_date_within_months(3),
            "views": random.randint(50, 2000),
            "likes": random.randint(0, 30),
            "commentCount": random.randint(1, 15),
            "content": question["content"],
            "bestAnswer": {
                "author": random.choice(ANSWER_AUTHORS),
                "content": question["bestAnswer"],
                "likes": random.randint(3, 80),
                "date": random_date_within_months(3)
            }
        })
    
    # 조회수 내림차순 정렬 (인기 게시글 느낌)
    posts.sort(key=lambda x: x["views"], reverse=True)
    
    return posts

def main():
    os.makedirs(OUTPUT_DIR, exist_ok=True)
    
    print("🦎 리얼 Q&A 콘텐츠 생성 중...\n")
    
    posts = generate_qna_posts()
    
    output_data = {
        "source": "Crestia Expert Q&A Generator",
        "generated_at": datetime.now().isoformat(),
        "total_posts": len(posts),
        "posts": posts
    }
    
    output_path = os.path.join(OUTPUT_DIR, "community_qna_dynamic.json")
    with open(output_path, "w", encoding="utf-8") as f:
        json.dump(output_data, f, ensure_ascii=False, indent=2)
    
    print(f"✅ 저장 완료: {output_path}")
    print(f"   - 고정 시나리오: {len(PRESET_SCENARIOS)}개")
    print(f"   - 일반 질문: {len(posts) - len(PRESET_SCENARIOS)}개")
    print(f"   - 총 게시글: {len(posts)}개")
    
    # 카테고리별 통계
    categories = {}
    for p in posts:
        cat = p["category"]
        categories[cat] = categories.get(cat, 0) + 1
    
    print("\n📊 카테고리별 분포:")
    for cat, count in categories.items():
        print(f"   - {cat}: {count}개")

if __name__ == "__main__":
    main()
